@model Assetify.Models.Asset

@{
    ViewData["Title"] = "Details";
}
<!--for google maps-->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAwNtnyyfWcM_TyD7m6WImqsL2Uae-x_5M&callback=initMap&libraries=&v=weekly"
        defer></script>

<h1>Details</h1>

<div id="maincontent">
    <h4>@Model.Address.City, @Model.Address.Street</h4>
    <hr />
    <div class="row">
        <div class="col-8">
            <dl class="row">
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.Price)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.Price)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.EstimatedPrice)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.EstimatedPrice)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.Furnished)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.Furnished)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.TypeId)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.TypeId)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.Condition)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.Condition)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.Size)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.Size)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.GardenSize)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.GardenSize)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.BalconySize)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.BalconySize)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.Rooms)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.Rooms)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.Floor)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.Floor)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.TotalFloor)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.TotalFloor)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.NumOfParking)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.NumOfParking)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.Description)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.Description)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.EntryDate)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.EntryDate)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.CreatedAt)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.CreatedAt)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsElevator)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsElevator)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsBalcony)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsBalcony)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsTerrace)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsTerrace)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsStorage)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsStorage)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsRenovated)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsRenovated)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsRealtyCommission)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsRealtyCommission)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsAircondition)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsAircondition)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsMamad)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsMamad)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsPandorDoors)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsPandorDoors)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsAccessible)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsAccessible)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsKosherKitchen)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsKosherKitchen)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsKosherBoiler)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsKosherBoiler)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsOnPillars)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsOnPillars)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsBars)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsBars)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsForSell)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsForSell)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsCommercial)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsCommercial)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsRoomates)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsRoomates)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsImmediate)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsImmediate)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsNearTrainStation)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsNearTrainStation)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsNearLightTrainStation)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsNearLightTrainStation)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsNearBeach)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsNearBeach)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.IsActive)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.IsActive)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.RemovedReason)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.RemovedReason)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.Address)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.Address.AddressID)
                </dd>
            </dl>
        </div>
        <div class="col-4">
            <div class="col-12">
            <div id="map" style="width:100%; height: 300px"></div>
            </div>
            <div class="col-12">
                <div id="articlescontent">
                    <h4>News featuring @Model.Address.City</h4>
                    @{int counter = 0;}
                    @foreach (var article in ViewBag.articleCity)
                    {
                        @if (counter == 3)
                            break;
                        <div class="card" style="width: 18rem; height: 35rem;">
                            <img class="card-img-top" src=@article.image_url alt="Card image cap">
                            <div class="card-body">
                                <h5 class="card-title">@article.title</h5>
                                <p class="card-text">@article.description</p>
                                <a href="@article.url" target="_blank">full article</a>
                            </div>
                        </div>
                        counter++;
                    }
                    <a asp-action="cityArticals" asp-route-cityName="@Model.Address.City">For more articals</a>

                </div>
            </div>
        </div>

    </div>

    <input id="lat" hidden value="@Model.Address.Latitude" />
    <input id="lon" hidden value="@Model.Address.Longitude" />

</div>

<div>
    <a asp-action="Edit" asp-route-id="@Model.AssetID">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>

@*<style>
    #maincontent {
        float: left;
        width: 65%;
        overflow: hidden;
    }

    #articlescontent {
        overflow: hidden;
    }
</style>*@

<script>
    // Initialize and add the map
    function initMap() {
        const lon = +document.getElementById("lon").value;
        const lat = +document.getElementById("lat").value;

        // The location of Uluru
        const uluru = { lat: lat, lng: lon };
        // The map, centered at Uluru
        const map = new google.maps.Map(document.getElementById("map"), {
            zoom: 14,
            center: uluru,
        });
    }</script>
